webpackJsonp([13],{386:function(e,t,r){var s=r(137)(r(495),r(564),null,null,null);e.exports=s.exports},495:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"login",title:"Login",data:function(){return{drawer:null,secret:"",alert:"true",enabled:!1,errors:{secret:null,message:null},loading:!1,passwordIcon:!0}},computed:{logout:function(){return this.$store.state.route.query.logout}},watch:{secret:function(e){""!==e&&(this.errors.secret=!1)}},methods:{appendIcon:function(){this.passwordIcon=!this.passwordIcon},submit:function(){var e=this,t=!1;if(console.log("submit otp"),this.secret&&""!==this.secret||(this.errors.secret="Secret code is required",t=!0),!t){this.errors.message=null,this.loading=!0;var r={secret:this.secret};this.$store.dispatch("auth/otpToken",r).then(function(){e.$store.dispatch("auth/checkToken").then(function(t){t?e.$router.replace({path:e.$route.query.redirect||"/"}):(e.errors.message="Unvalid credentials. Please try again.",console.log("⛔️  Unauthorized"),e.secret=""),e.loading=!1})}).catch(function(t){switch(console.log("chytil error"),console.log(t),e.errors.message="Something went wrong!",e.loading=!1,e.password="",e.username="",e.secret="",t.response&&t.response.status){case 401:e.errors.message="Unvalid secret. Please try again.";break;default:case 500:e.errors.message="Internal server error. Please try again."}})}}}}},564:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-content",[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs10:"",sm6:"",md3:""}},[r("v-card",{staticClass:"elevation-12",attrs:{color:"blue",dark:""}},[r("form",{attrs:{action:"#",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[r("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[r("v-toolbar-title",[e._v("2-step Verification")])],1),e._v(" "),r("v-card-text",[r("v-text-field",{attrs:{id:"password",color:"grey lighten-1",name:"secret",label:"Enter 6 chars or digits code","prepend-icon":"lock",autocomplete:"off",type:"text",error:e.errors.secret},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1),e._v(" "),r("v-card-actions",[r("v-btn",{attrs:{block:"",color:"green",type:"submit",secondary:"",loading:e.loading,disabled:e.loading}},[e._v("Login")])],1)],1)]),e._v(" "),e.errors.message?r("v-alert",{attrs:{error:"",value:e.errors.message}},[e._v("\n            "+e._s(this.errors.message)+"\n          ")]):e._e(),e._v(" "),e.logout?r("v-alert",{attrs:{info:"",dismissible:""},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.$t("messages.logged_out")))]):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=13.d1f34dd415e9fc728d9e.js.map