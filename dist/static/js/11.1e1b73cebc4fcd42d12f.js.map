{"version":3,"sources":["webpack:///static/js/11.1e1b73cebc4fcd42d12f.js","webpack:///./src/views/layouts/Login.vue","webpack:///Login.vue","webpack:///./src/views/layouts/Login.vue?afd6"],"names":["webpackJsonp","381","module","exports","__webpack_require__","Component","449","__webpack_exports__","Object","defineProperty","value","533","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","preventDefault","submit","_v","_s","$t","errors","username","model","callback","$$v","expression","password","loading","message","_e","alert","staticRenderFns"],"mappings":"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","file":"static/js/11.1e1b73cebc4fcd42d12f.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 381:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(137)(\n  /* script */\n  __webpack_require__(449),\n  /* template */\n  __webpack_require__(533),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 449:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'login',\n  title: 'Login',\n  data: function data() {\n    return {\n      drawer: null,\n      username: '',\n      password: '',\n      alert: 'true',\n      enabled: false,\n      errors: {\n        password: null,\n        username: null\n      },\n      loading: false,\n      passwordIcon: true\n    };\n  },\n\n  computed: {\n    logout: function logout() {\n      return this.$store.state.route.query.logout;\n    }\n  },\n  watch: {\n    password: function password(_password) {\n      if (_password !== '') {\n        this.errors.password = false;\n      }\n    },\n    username: function username(_username) {\n      if (_username !== '') {\n        this.errors.username = false;\n      }\n    }\n  },\n  methods: {\n    appendIcon: function appendIcon() {\n      this.passwordIcon = !this.passwordIcon;\n    },\n    submit: function submit() {\n      var _this = this;\n\n      var error = false;\n\n      if (!this.password || this.password === '') {\n        this.errors.password = 'Password is required';\n        error = true;\n      }\n\n      if (!this.username || this.username === '') {\n        this.errors.username = 'Username is required';\n        error = true;\n      }\n\n      if (error) {\n        return;\n      }\n\n      this.errors.message = null;\n      this.loading = true;\n\n      var data = {\n        password: this.password,\n        username: this.username\n      };\n\n      this.$store.dispatch('auth/token', data).then(function () {\n        // console.log(this.$store.getters['auth/otp_token']);\n        // console.log(this.$store.getters['auth/otpConfirmed']);\n        if (!_this.$store.getters['auth/token']) {\n          _this.errors.message = 'Unvalid credentials. Please try again.';\n          // console.log('⛔️  Unauthorized');\n          _this.password = '';\n          _this.username = '';\n          _this.loading = false;\n        } else if (!_this.$store.getters['auth/otpConfirmed']) {\n          _this.$router.replace({ path: '/login-otp' });\n        } else {\n          _this.$store.dispatch('auth/checkToken').then(function (valid) {\n            // eslint-disable-line consistent-return\n            // authorized\n            if (valid) {\n              _this.$router.replace({ path: _this.$route.query.redirect || '/' });\n              // console.log('login ok');\n            } else {\n              // unauthorized\n              _this.errors.message = 'Unvalid credentials. Please try again.';\n              console.log('⛔️  Unauthorized');\n              _this.password = '';\n              _this.username = '';\n            }\n            _this.loading = false;\n          });\n        }\n      }).catch(function (err) {\n        console.log(err);\n        _this.errors.message = 'Something went wrong!';\n        _this.loading = false;\n        _this.password = '';\n        _this.username = '';\n        _this.secret = '';\n\n        switch (err.response && err.response.status) {\n          case 401:\n            _this.errors.message = 'Unvalid credentials. Please try again.';\n            break;\n          default:\n          case 500:\n            _this.errors.message = 'Internal server error. Please try again.';\n            break;\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-app', {\n    attrs: {\n      \"id\": \"inspire\"\n    }\n  }, [_c('v-content', [_c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"fill-height\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"align-center\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs10\": \"\",\n      \"sm6\": \"\",\n      \"md3\": \"\"\n    }\n  }, [_c('v-card', {\n    staticClass: \"elevation-12\",\n    attrs: {\n      \"color\": \"blue\",\n      \"dark\": \"\"\n    }\n  }, [_c('form', {\n    attrs: {\n      \"action\": \"#\",\n      \"autocomplete\": \"off\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        return _vm.submit($event)\n      }\n    }\n  }, [_c('v-toolbar', {\n    attrs: {\n      \"dark\": \"\",\n      \"color\": \"blue darken-3\"\n    }\n  }, [_c('v-toolbar-title', [_vm._v(_vm._s(_vm.$t('sign_in.name')))])], 1), _vm._v(\" \"), _c('v-card-text', [_c('v-text-field', {\n    attrs: {\n      \"prepend-icon\": \"person\",\n      \"color\": \"grey lighten-1\",\n      \"name\": \"login\",\n      \"label\": _vm.$t('sign_in.username'),\n      \"type\": \"text\",\n      \"error\": _vm.errors.username\n    },\n    model: {\n      value: (_vm.username),\n      callback: function($$v) {\n        _vm.username = $$v\n      },\n      expression: \"username\"\n    }\n  }), _vm._v(\" \"), _c('v-text-field', {\n    attrs: {\n      \"id\": \"password\",\n      \"color\": \"grey lighten-1\",\n      \"name\": \"password\",\n      \"label\": _vm.$t('sign_in.password'),\n      \"prepend-icon\": \"lock\",\n      \"autocomplete\": \"off\",\n      \"type\": \"password\",\n      \"error\": _vm.errors.password\n    },\n    model: {\n      value: (_vm.password),\n      callback: function($$v) {\n        _vm.password = $$v\n      },\n      expression: \"password\"\n    }\n  }), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"align-center\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-card-actions', [_c('v-btn', {\n    attrs: {\n      \"block\": \"\",\n      \"color\": \"green\",\n      \"type\": \"submit\",\n      \"secondary\": \"\",\n      \"loading\": _vm.loading,\n      \"disabled\": _vm.loading\n    }\n  }, [_vm._v(_vm._s(_vm.$t('sign_in.login')))])], 1)], 1)]), _vm._v(\" \"), (_vm.errors.message) ? _c('v-alert', {\n    attrs: {\n      \"error\": \"\",\n      \"value\": _vm.errors.message\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(this.errors.message) + \"\\n          \")]) : _vm._e(), _vm._v(\" \"), (_vm.logout) ? _c('v-alert', {\n    attrs: {\n      \"info\": \"\",\n      \"dismissible\": \"\"\n    },\n    model: {\n      value: (_vm.alert),\n      callback: function($$v) {\n        _vm.alert = $$v\n      },\n      expression: \"alert\"\n    }\n  }, [_vm._v(_vm._s(_vm.$t('messages.logged_out')))]) : _vm._e()], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/11.1e1b73cebc4fcd42d12f.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-66a82597\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/layouts/Login.vue\n// module id = 381\n// module chunks = 11","<template>\n  <v-app id=\"inspire\">\n    <v-content>\n      <v-container fluid fill-height>\n        <v-layout align-center justify-center>\n          <v-flex xs10 sm6 md3>\n            <v-card color=\"blue\" dark class=\"elevation-12\">\n              <form action=\"#\" autocomplete=\"off\" @submit.prevent=\"submit\">\n              <v-toolbar dark color=\"blue darken-3\">\n                <v-toolbar-title>{{ $t('sign_in.name') }}</v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                  <v-text-field\n                    prepend-icon=\"person\"\n                    color=\"grey lighten-1\"\n                    name=\"login\"\n                    :label=\"$t('sign_in.username')\"\n                    type=\"text\"\n                    v-model=\"username\"\n                    :error=\"errors.username\"\n                  ></v-text-field>\n                  <v-text-field\n                    id=\"password\"\n                    color=\"grey lighten-1\"\n                    name=\"password\"\n                    :label=\"$t('sign_in.password')\"\n                    v-model=\"password\"\n                    prepend-icon=\"lock\"\n                    autocomplete=\"off\"\n                    type=\"password\"\n                    :error=\"errors.password\"\n                  ></v-text-field>\n                  <v-layout align-center>\n\n                    <!-- uncomment this block on demo.lxdmanager.com -->\n                    <!--\n                    <blockquote class=\"blockquote subheading\">Admin credentials username: admin password: admin1234</blockquote>\n                    <blockquote class=\"blockquote subheading\">User credentials username: user password: user1234</blockquote>\n                    -->\n                  </v-layout>\n              </v-card-text>\n              <v-card-actions>\n                <v-btn\n                  block\n                  color=\"green\"\n                  type=\"submit\"\n                  secondary\n                  :loading=\"loading\"\n                  :disabled=\"loading\">{{ $t('sign_in.login') }}</v-btn>\n              </v-card-actions>\n              </form>\n            </v-card>\n            <v-alert error v-if=\"errors.message\" :value=\"errors.message\">\n              {{ this.errors.message }}\n            </v-alert>\n            <v-alert v-if=\"logout\" info v-model=\"alert\" dismissible>{{ $t('messages.logged_out') }}</v-alert>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n\n\n<script>\n  export default {\n    name: 'login',\n    title: 'Login',\n    data() {\n      return {\n        drawer: null,\n        username: '',\n        password: '',\n        alert: 'true',\n        enabled: false,\n        errors: {\n          password: null,\n          username: null\n        },\n        loading: false,\n        passwordIcon: true\n      };\n    },\n    computed: {\n      logout() {\n        return this.$store.state.route.query.logout;\n      }\n    },\n    watch: {\n      password(password) {\n        if (password !== '') {\n          this.errors.password = false;\n        }\n      },\n      username(username) {\n        if (username !== '') {\n          this.errors.username = false;\n        }\n      }\n    },\n    methods: {\n      appendIcon() {\n        this.passwordIcon = !this.passwordIcon;\n      },\n      submit() {\n        let error = false;\n\n        if (!this.password || this.password === '') {\n          this.errors.password = 'Password is required';\n          error = true;\n        }\n\n        if (!this.username || this.username === '') {\n          this.errors.username = 'Username is required';\n          error = true;\n        }\n\n        if (error) { return; }\n\n        this.errors.message = null;\n        this.loading = true;\n\n        const data = {\n          password: this.password,\n          username: this.username\n        };\n\n        this.$store.dispatch('auth/token', data)\n          .then(() => {\n            // console.log(this.$store.getters['auth/otp_token']);\n            // console.log(this.$store.getters['auth/otpConfirmed']);\n            if (!this.$store.getters['auth/token']) {\n              this.errors.message = 'Unvalid credentials. Please try again.';\n              // console.log('⛔️  Unauthorized');\n              this.password = '';\n              this.username = '';\n              this.loading = false;\n            } else if (!this.$store.getters['auth/otpConfirmed']) {\n              this.$router.replace({ path: '/login-otp' });\n            } else {\n              this.$store.dispatch('auth/checkToken')\n                .then((valid) => { // eslint-disable-line consistent-return\n                  // authorized\n                  if (valid) {\n                    this.$router.replace({ path: this.$route.query.redirect || '/' });\n                    // console.log('login ok');\n                  } else {\n                    // unauthorized\n                    this.errors.message = 'Unvalid credentials. Please try again.';\n                    console.log('⛔️  Unauthorized');\n                    this.password = '';\n                    this.username = '';\n                  }\n                  this.loading = false;\n                });\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n            this.errors.message = 'Something went wrong!';\n            this.loading = false;\n            this.password = '';\n            this.username = '';\n            this.secret = '';\n\n            switch (err.response && err.response.status) {\n              case 401:\n                this.errors.message = 'Unvalid credentials. Please try again.';\n                break;\n              default:\n              case 500:\n                this.errors.message = 'Internal server error. Please try again.';\n                break;\n            }\n          });\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Login.vue?a13eda2a","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-app', {\n    attrs: {\n      \"id\": \"inspire\"\n    }\n  }, [_c('v-content', [_c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"fill-height\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"align-center\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs10\": \"\",\n      \"sm6\": \"\",\n      \"md3\": \"\"\n    }\n  }, [_c('v-card', {\n    staticClass: \"elevation-12\",\n    attrs: {\n      \"color\": \"blue\",\n      \"dark\": \"\"\n    }\n  }, [_c('form', {\n    attrs: {\n      \"action\": \"#\",\n      \"autocomplete\": \"off\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        return _vm.submit($event)\n      }\n    }\n  }, [_c('v-toolbar', {\n    attrs: {\n      \"dark\": \"\",\n      \"color\": \"blue darken-3\"\n    }\n  }, [_c('v-toolbar-title', [_vm._v(_vm._s(_vm.$t('sign_in.name')))])], 1), _vm._v(\" \"), _c('v-card-text', [_c('v-text-field', {\n    attrs: {\n      \"prepend-icon\": \"person\",\n      \"color\": \"grey lighten-1\",\n      \"name\": \"login\",\n      \"label\": _vm.$t('sign_in.username'),\n      \"type\": \"text\",\n      \"error\": _vm.errors.username\n    },\n    model: {\n      value: (_vm.username),\n      callback: function($$v) {\n        _vm.username = $$v\n      },\n      expression: \"username\"\n    }\n  }), _vm._v(\" \"), _c('v-text-field', {\n    attrs: {\n      \"id\": \"password\",\n      \"color\": \"grey lighten-1\",\n      \"name\": \"password\",\n      \"label\": _vm.$t('sign_in.password'),\n      \"prepend-icon\": \"lock\",\n      \"autocomplete\": \"off\",\n      \"type\": \"password\",\n      \"error\": _vm.errors.password\n    },\n    model: {\n      value: (_vm.password),\n      callback: function($$v) {\n        _vm.password = $$v\n      },\n      expression: \"password\"\n    }\n  }), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"align-center\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-card-actions', [_c('v-btn', {\n    attrs: {\n      \"block\": \"\",\n      \"color\": \"green\",\n      \"type\": \"submit\",\n      \"secondary\": \"\",\n      \"loading\": _vm.loading,\n      \"disabled\": _vm.loading\n    }\n  }, [_vm._v(_vm._s(_vm.$t('sign_in.login')))])], 1)], 1)]), _vm._v(\" \"), (_vm.errors.message) ? _c('v-alert', {\n    attrs: {\n      \"error\": \"\",\n      \"value\": _vm.errors.message\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(this.errors.message) + \"\\n          \")]) : _vm._e(), _vm._v(\" \"), (_vm.logout) ? _c('v-alert', {\n    attrs: {\n      \"info\": \"\",\n      \"dismissible\": \"\"\n    },\n    model: {\n      value: (_vm.alert),\n      callback: function($$v) {\n        _vm.alert = $$v\n      },\n      expression: \"alert\"\n    }\n  }, [_vm._v(_vm._s(_vm.$t('messages.logged_out')))]) : _vm._e()], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-66a82597\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/layouts/Login.vue\n// module id = 533\n// module chunks = 11"],"sourceRoot":""}