webpackJsonp([14],{388:function(e,r,s){var t=s(137)(s(502),s(604),null,null,null);e.exports=t.exports},502:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s(56);r.default={name:"login",title:"Login",data:function(){return{drawer:null,username:"",password:"",alert:"true",enabled:!1,errors:{password:null,username:null},loading:!1,passwordIcon:!0}},computed:{logout:function(){return this.$store.state.route.query.logout}},watch:{password:function(e){""!==e&&(this.errors.password=!1)},username:function(e){""!==e&&(this.errors.username=!1)}},methods:{appendIcon:function(){this.passwordIcon=!this.passwordIcon},submit:function(){var e=this,r=!1;if(this.password&&""!==this.password||(this.errors.password="Password is required",r=!0),this.username&&""!==this.username||(this.errors.username="Username is required",r=!0),!r){this.errors.message=null,this.loading=!0;var s={password:this.password,username:this.username};this.$store.dispatch("auth/token",s).then(function(){e.$store.getters["auth/token"]?e.$store.getters["auth/otpConfirmed"]?e.$store.dispatch("auth/checkToken").then(function(r){r?e.$router.replace({path:e.$route.query.redirect||"/"}):(e.errors.message="Invalid credentials. Please try again.",console.log("⛔️  Unauthorized"),e.password="",e.username=""),e.loading=!1}):e.$router.replace({path:"/login-otp"}):(e.errors.message="Invalid credentials. Please try again.",e.password="",e.username="",e.loading=!1)}).catch(function(r){switch(console.log(r),e.errors.message="Something went wrong!",e.loading=!1,e.password="",e.username="",e.secret="",r.response&&r.response.status){case 401:e.errors.message="Invalid credentials. Please try again.";break;default:case 500:e.errors.message="Internal server error. Please try again."}})}}},created:function(){t.a.locale=this.$store.getters.language}}},604:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("v-app",{attrs:{id:"inspire"}},[s("v-content",[s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs10:"",sm6:"",md3:""}},[s("v-card",{staticClass:"elevation-12",attrs:{color:"blue",dark:""}},[s("form",{attrs:{action:"#",autocomplete:"off"},on:{submit:function(r){return r.preventDefault(),e.submit(r)}}},[s("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[s("v-toolbar-title",[e._v(e._s(e.$t("sign_in.name")))])],1),e._v(" "),s("v-card-text",[s("v-text-field",{attrs:{"prepend-icon":"person",color:"grey lighten-1",name:"login",label:e.$t("sign_in.username"),type:"text",error:e.errors.username},model:{value:e.username,callback:function(r){e.username=r},expression:"username"}}),e._v(" "),s("v-text-field",{attrs:{id:"password",color:"grey lighten-1",name:"password",label:e.$t("sign_in.password"),"prepend-icon":"lock",autocomplete:"off",type:"password",error:e.errors.password},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),e._v(" "),s("v-layout",{attrs:{"align-center":""}})],1),e._v(" "),s("v-card-actions",[s("v-btn",{attrs:{block:"",color:"green",type:"submit",secondary:"",loading:e.loading,disabled:e.loading}},[e._v(e._s(e.$t("sign_in.login")))])],1)],1)]),e._v(" "),e.errors.message?s("v-alert",{attrs:{error:"",value:e.errors.message}},[e._v("\n            "+e._s(this.errors.message)+"\n          ")]):e._e(),e._v(" "),e.logout?s("v-alert",{attrs:{info:"",dismissible:""},model:{value:e.alert,callback:function(r){e.alert=r},expression:"alert"}},[e._v(e._s(e.$t("messages.logged_out")))]):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=14.6b18c80b0d8d59d28ace.js.map